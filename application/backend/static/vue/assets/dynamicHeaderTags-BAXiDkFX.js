import{bf as We,r as i,l as A,bg as _t,bh as ht,x as bt,bi as vt,y as $t,bj as G,bk as Ve,bl as Wt,bm as Fe,bn as yt,bo as Vt,bp as Ht,bq as Xt,br as qt,bs as $e,_ as ye,bt as xt,bu as wt,bv as Gt,bw as tt,bx as Kt,o as Ie,by as Jt,bz as Ct,bA as Yt,bB as Qt,bC as Zt,bD as nt,g as rt,bE as st,bF as en,bG as tn,bH as nn,bI as rn,bJ as it,aH as ot,bK as sn,bL as on,bM as an,bN as ln,bO as cn,F as Ee,m as pe,bP as dn,j as c,bQ as un,ay as Ce,D as at,an as mn,aL as pn,a1 as Ge,C as N,Y as St,bb as gn,a7 as xe,b8 as Oe,ar as Re,a5 as fn,bR as hn,as as Te,i as ae,aG as He,c as we,e as k,bS as jt,bT as bn,aI as vn,bc as Et,a9 as $n,az as Xe,B as lt,aj as yn,a4 as xn,bU as wn,ax as qe,av as ve,au as Le,u as Cn,aV as Sn,S as jn,aY as En,I as In,bV as On,ab as Rn,bW as Pn}from"./main-zpu8IzFY.js";function le(e){return!e||e<0?0:e>100?100:e}function Pe(e){let{success:t,successPercent:n}=e,s=n;return t&&"progress"in t&&(s=t.progress),t&&"percent"in t&&(s=t.percent),s}const Dn=e=>{let{percent:t,success:n,successPercent:s}=e;const o=le(Pe({success:n,successPercent:s}));return[o,le(le(t)-o)]},Fn=e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:s}=t;return[s||We.green,n||null]},Ne=(e,t,n)=>{var s,o,l,a;let r=-1,d=-1;if(t==="step"){const u=n.steps,m=n.strokeWidth;typeof e=="string"||typeof e>"u"?(r=e==="small"?2:14,d=m??8):typeof e=="number"?[r,d]=[e,e]:[r=14,d=8]=Array.isArray(e)?e:[e.width,e.height],r*=u}else if(t==="line"){const u=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?d=u||(e==="small"?6:8):typeof e=="number"?[r,d]=[e,e]:[r=-1,d=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[r,d]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[r,d]=[e,e]:Array.isArray(e)&&(r=(o=(s=e[0])!==null&&s!==void 0?s:e[1])!==null&&o!==void 0?o:120,d=(a=(l=e[0])!==null&&l!==void 0?l:e[1])!==null&&a!==void 0?a:120));return[r,d]},Tn=3,Ln=e=>Tn/e*100,Nn=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:s="round",gapPosition:o,gapDegree:l,width:a=120,type:r,children:d,success:u,size:m=a,steps:g}=e,[f,v]=Ne(m,"circle");let{strokeWidth:C}=e;C===void 0&&(C=Math.max(Ln(f),6));const E={width:f,height:v,fontSize:f*.15+6},b=i.useMemo(()=>{if(l||l===0)return l;if(r==="dashboard")return 75},[l,r]),$=Dn(e),S=o||r==="dashboard"&&"bottom"||void 0,W=Object.prototype.toString.call(e.strokeColor)==="[object Object]",D=Fn({success:u,strokeColor:e.strokeColor}),T=A(`${t}-inner`,{[`${t}-circle-gradient`]:W}),L=i.createElement(_t,{steps:g,percent:g?$[1]:$,strokeWidth:C,trailWidth:C,strokeColor:g?D[1]:D,strokeLinecap:s,trailColor:n,prefixCls:t,gapDegree:b,gapPosition:S}),M=f<=20,z=i.createElement("div",{className:T,style:E},L,!M&&d);return M?i.createElement(ht,{title:d},z):z},De="--progress-line-stroke-color",It="--progress-percent",ct=e=>{const t=e?"100%":"-100%";return new Ve(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},kn=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},$t(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${De})`]},height:"100%",width:`calc(1 / var(${It}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${G(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:ct(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:ct(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Un=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},An=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Mn=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},zn=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Bn=bt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=vt(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[kn(n),Un(n),An(n),Mn(n)]},zn);var _n=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const Wn=e=>{let t=[];return Object.keys(e).forEach(n=>{const s=parseFloat(n.replace(/%/g,""));Number.isNaN(s)||t.push({key:s,value:e[n]})}),t=t.sort((n,s)=>n.key-s.key),t.map(n=>{let{key:s,value:o}=n;return`${o} ${s}%`}).join(", ")},Vn=(e,t)=>{const{from:n=We.blue,to:s=We.blue,direction:o=t==="rtl"?"to left":"to right"}=e,l=_n(e,["from","to","direction"]);if(Object.keys(l).length!==0){const r=Wn(l),d=`linear-gradient(${o}, ${r})`;return{background:d,[De]:d}}const a=`linear-gradient(${o}, ${n}, ${s})`;return{background:a,[De]:a}},Hn=e=>{const{prefixCls:t,direction:n,percent:s,size:o,strokeWidth:l,strokeColor:a,strokeLinecap:r="round",children:d,trailColor:u=null,percentPosition:m,success:g}=e,{align:f,type:v}=m,C=a&&typeof a!="string"?Vn(a,n):{[De]:a,background:a},E=r==="square"||r==="butt"?0:void 0,b=o??[-1,l||(o==="small"?6:8)],[$,S]=Ne(b,"line",{strokeWidth:l}),W={backgroundColor:u||void 0,borderRadius:E},D=Object.assign(Object.assign({width:`${le(s)}%`,height:S,borderRadius:E},C),{[It]:le(s)/100}),T=Pe(e),L={width:`${le(T)}%`,height:S,borderRadius:E,backgroundColor:g==null?void 0:g.strokeColor},M={width:$<0?"100%":$},z=i.createElement("div",{className:`${t}-inner`,style:W},i.createElement("div",{className:A(`${t}-bg`,`${t}-bg-${v}`),style:D},v==="inner"&&d),T!==void 0&&i.createElement("div",{className:`${t}-success-bg`,style:L})),B=v==="outer"&&f==="start",x=v==="outer"&&f==="end";return v==="outer"&&f==="center"?i.createElement("div",{className:`${t}-layout-bottom`},z,d):i.createElement("div",{className:`${t}-outer`,style:M},B&&d,z,x&&d)},Xn=e=>{const{size:t,steps:n,rounding:s=Math.round,percent:o=0,strokeWidth:l=8,strokeColor:a,trailColor:r=null,prefixCls:d,children:u}=e,m=s(n*(o/100)),f=t??[t==="small"?2:14,l],[v,C]=Ne(f,"step",{steps:n,strokeWidth:l}),E=v/n,b=Array.from({length:n});for(let $=0;$<n;$++){const S=Array.isArray(a)?a[$]:a;b[$]=i.createElement("div",{key:$,className:A(`${d}-steps-item`,{[`${d}-steps-item-active`]:$<=m-1}),style:{backgroundColor:$<=m-1?S:r,width:E,height:C}})}return i.createElement("div",{className:`${d}-steps-outer`},b,u)};var qn=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const Gn=["normal","exception","active","success"],Kn=i.forwardRef((e,t)=>{const{prefixCls:n,className:s,rootClassName:o,steps:l,strokeColor:a,percent:r=0,size:d="default",showInfo:u=!0,type:m="line",status:g,format:f,style:v,percentPosition:C={}}=e,E=qn(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:b="end",type:$="outer"}=C,S=Array.isArray(a)?a[0]:a,W=typeof a=="string"||Array.isArray(a)?a:void 0,D=i.useMemo(()=>{if(S){const H=typeof S=="string"?S:Object.values(S)[0];return new Wt(H).isLight()}return!1},[a]),T=i.useMemo(()=>{var H,U;const X=Pe(e);return parseInt(X!==void 0?(H=X??0)===null||H===void 0?void 0:H.toString():(U=r??0)===null||U===void 0?void 0:U.toString(),10)},[r,e.success,e.successPercent]),L=i.useMemo(()=>!Gn.includes(g)&&T>=100?"success":g||"normal",[g,T]),{getPrefixCls:M,direction:z,progress:B}=i.useContext(Fe),x=M("progress",n),[V,re,se]=Bn(x),Z=m==="line",K=Z&&!l,_=i.useMemo(()=>{if(!u)return null;const H=Pe(e);let U;const X=f||(p=>`${p}%`),Y=Z&&D&&$==="inner";return $==="inner"||f||L!=="exception"&&L!=="success"?U=X(le(r),le(H)):L==="exception"?U=Z?i.createElement(Vt,null):i.createElement(Ht,null):L==="success"&&(U=Z?i.createElement(Xt,null):i.createElement(qt,null)),i.createElement("span",{className:A(`${x}-text`,{[`${x}-text-bright`]:Y,[`${x}-text-${b}`]:K,[`${x}-text-${$}`]:K}),title:typeof U=="string"?U:void 0},U)},[u,r,T,L,m,x,f]);let I;m==="line"?I=l?i.createElement(Xn,Object.assign({},e,{strokeColor:W,prefixCls:x,steps:typeof l=="object"?l.count:l}),_):i.createElement(Hn,Object.assign({},e,{strokeColor:S,prefixCls:x,direction:z,percentPosition:{align:b,type:$}}),_):(m==="circle"||m==="dashboard")&&(I=i.createElement(Nn,Object.assign({},e,{strokeColor:S,prefixCls:x,progressStatus:L}),_));const ee=A(x,`${x}-status-${L}`,{[`${x}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${x}-inline-circle`]:m==="circle"&&Ne(d,"circle")[0]<=20,[`${x}-line`]:K,[`${x}-line-align-${b}`]:K,[`${x}-line-position-${$}`]:K,[`${x}-steps`]:l,[`${x}-show-info`]:u,[`${x}-${d}`]:typeof d=="string",[`${x}-rtl`]:z==="rtl"},B==null?void 0:B.className,s,o,re,se);return V(i.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},B==null?void 0:B.style),v),className:ee,role:"progressbar","aria-valuenow":T,"aria-valuemin":0,"aria-valuemax":100},yt(E,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),I))});var Jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Yn=function(t,n){return i.createElement($e,ye({},t,{ref:n,icon:Jn}))},Qn=i.forwardRef(Yn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},er=function(t,n){return i.createElement($e,ye({},t,{ref:n,icon:Zn}))},tr=i.forwardRef(er),nr={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},rr=function(t,n){return i.createElement($e,ye({},t,{ref:n,icon:nr}))},sr=i.forwardRef(rr),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},or=function(t,n){return i.createElement($e,ye({},t,{ref:n,icon:ir}))},ar=i.forwardRef(or),lr={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},cr=function(t,n){return i.createElement($e,ye({},t,{ref:n,icon:lr}))},dr=i.forwardRef(cr);const ur=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${G(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${G(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${G(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},mr=e=>{const{componentCls:t,iconCls:n,fontSize:s,lineHeight:o,calc:l}=e,a=`${t}-list-item`,r=`${a}-actions`,d=`${a}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},xt()),{lineHeight:e.lineHeight,[a]:{position:"relative",height:l(e.lineHeight).mul(s).equal(),marginTop:e.marginXS,fontSize:s,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},wt),{padding:`0 ${G(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[r]:{whiteSpace:"nowrap",[d]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${d}:focus-visible,
              &.picture ${d}
            `]:{opacity:1}},[`${t}-icon ${n}`]:{color:e.colorIcon,fontSize:s},[`${a}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(s).add(e.paddingXS).equal(),fontSize:s,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${d}`]:{opacity:1},[`${a}-error`]:{color:e.colorError,[`${a}-name, ${t}-icon ${n}`]:{color:e.colorError},[r]:{[`${n}, ${n}:hover`]:{color:e.colorError},[d]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},pr=e=>{const{componentCls:t}=e,n=new Ve("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),s=new Ve("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:n},[`${o}-leave`]:{animationName:s}}},{[`${t}-wrapper`]:Gt(e)},n,s]},gr=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:s,uploadProgressOffset:o,calc:l}=e,a=`${t}-list`,r=`${a}-item`;return{[`${t}-wrapper`]:{[`
        ${a}${a}-picture,
        ${a}${a}-picture-card,
        ${a}${a}-picture-circle
      `]:{[r]:{position:"relative",height:l(s).add(l(e.lineWidth).mul(2)).add(l(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${G(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${r}-thumbnail`]:Object.assign(Object.assign({},wt),{width:s,height:s,lineHeight:G(l(s).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${r}-progress`]:{bottom:o,width:`calc(100% - ${G(l(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:l(s).add(e.paddingXS).equal()}},[`${r}-error`]:{borderColor:e.colorError,[`${r}-thumbnail ${n}`]:{[`svg path[fill='${tt[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${tt.primary}']`]:{fill:e.colorError}}},[`${r}-uploading`]:{borderStyle:"dashed",[`${r}-name`]:{marginBottom:o}}},[`${a}${a}-picture-circle ${r}`]:{[`&, &::before, ${r}-thumbnail`]:{borderRadius:"50%"}}}}},fr=e=>{const{componentCls:t,iconCls:n,fontSizeLG:s,colorTextLightSolid:o,calc:l}=e,a=`${t}-list`,r=`${a}-item`,d=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},xt()),{display:"block",[`${t}${t}-select`]:{width:d,height:d,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${G(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${a}-item-container`]:{display:"inline-block",width:d,height:d,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[r]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${G(l(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${G(l(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${r}:hover`]:{[`&::before, ${r}-actions`]:{opacity:1}},[`${r}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:s,margin:`0 ${G(e.marginXXS)}`,fontSize:s,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${r}-thumbnail, ${r}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${r}-name`]:{display:"none",textAlign:"center"},[`${r}-file + ${r}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${G(l(e.paddingXS).mul(2).equal())})`},[`${r}-uploading`]:{[`&${r}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${r}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${G(l(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},hr=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},br=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},$t(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},vr=e=>({actionsColor:e.colorIcon}),$r=bt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:s,controlHeightLG:o,calc:l}=e,a=vt(e,{uploadThumbnailSize:l(t).mul(2).equal(),uploadProgressOffset:l(l(n).div(2)).add(s).equal(),uploadPicCardSize:l(o).mul(2.55).equal()});return[br(a),ur(a),gr(a),fr(a),mr(a),pr(a),hr(a),Kt(a)]},vr);function Se(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function je(e,t){const n=Ie(t),s=n.findIndex(o=>{let{uid:l}=o;return l===e.uid});return s===-1?n.push(e):n[s]=e,n}function Me(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(s=>s[n]===e[n])[0]}function yr(e,t){const n=e.uid!==void 0?"uid":"name",s=t.filter(o=>o[n]!==e[n]);return s.length===t.length?null:s}const xr=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),s=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(s)||[""])[0]},Ot=e=>e.indexOf("image/")===0,wr=e=>{if(e.type&&!e.thumbUrl)return Ot(e.type);const t=e.thumbUrl||e.url||"",n=xr(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},oe=200;function Cr(e){return new Promise(t=>{if(!e.type||!Ot(e.type)){t("");return}const n=document.createElement("canvas");n.width=oe,n.height=oe,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${oe}px; height: ${oe}px; z-index: 9999; display: none;`,document.body.appendChild(n);const s=n.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:l,height:a}=o;let r=oe,d=oe,u=0,m=0;l>a?(d=a*(oe/l),m=-(d-r)/2):(r=l*(oe/a),u=-(r-d)/2),s.drawImage(o,u,m,r,d);const g=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(o.src),t(g)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const l=new FileReader;l.onload=()=>{l.result&&typeof l.result=="string"&&(o.src=l.result)},l.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const l=new FileReader;l.onload=()=>{l.result&&t(l.result)},l.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}const Sr=i.forwardRef((e,t)=>{let{prefixCls:n,className:s,style:o,locale:l,listType:a,file:r,items:d,progress:u,iconRender:m,actionIconRender:g,itemRender:f,isImgUrl:v,showPreviewIcon:C,showRemoveIcon:E,showDownloadIcon:b,previewIcon:$,removeIcon:S,downloadIcon:W,extra:D,onPreview:T,onDownload:L,onClose:M}=e;var z,B;const{status:x}=r,[V,re]=i.useState(x);i.useEffect(()=>{x!=="removed"&&re(x)},[x]);const[se,Z]=i.useState(!1);i.useEffect(()=>{const R=setTimeout(()=>{Z(!0)},300);return()=>{clearTimeout(R)}},[]);const K=m(r);let _=i.createElement("div",{className:`${n}-icon`},K);if(a==="picture"||a==="picture-card"||a==="picture-circle")if(V==="uploading"||!r.thumbUrl&&!r.url){const R=A(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:V!=="uploading"});_=i.createElement("div",{className:R},K)}else{const R=v!=null&&v(r)?i.createElement("img",{src:r.thumbUrl||r.url,alt:r.name,className:`${n}-list-item-image`,crossOrigin:r.crossOrigin}):K,O=A(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:v&&!v(r)});_=i.createElement("a",{className:O,onClick:ne=>T(r,ne),href:r.url||r.thumbUrl,target:"_blank",rel:"noopener noreferrer"},R)}const I=A(`${n}-list-item`,`${n}-list-item-${V}`),ee=typeof r.linkProps=="string"?JSON.parse(r.linkProps):r.linkProps,H=(typeof E=="function"?E(r):E)?g((typeof S=="function"?S(r):S)||i.createElement(Qn,null),()=>M(r),n,l.removeFile,!0):null,U=(typeof b=="function"?b(r):b)&&V==="done"?g((typeof W=="function"?W(r):W)||i.createElement(tr,null),()=>L(r),n,l.downloadFile):null,X=a!=="picture-card"&&a!=="picture-circle"&&i.createElement("span",{key:"download-delete",className:A(`${n}-list-item-actions`,{picture:a==="picture"})},U,H),Y=typeof D=="function"?D(r):D,p=Y&&i.createElement("span",{className:`${n}-list-item-extra`},Y),F=A(`${n}-list-item-name`),Q=r.url?i.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:F,title:r.name},ee,{href:r.url,onClick:R=>T(r,R)}),r.name,p):i.createElement("span",{key:"view",className:F,onClick:R=>T(r,R),title:r.name},r.name,p),J=(typeof C=="function"?C(r):C)&&(r.url||r.thumbUrl)?i.createElement("a",{href:r.url||r.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:R=>T(r,R),title:l.previewFile},typeof $=="function"?$(r):$||i.createElement(Jt,null)):null,ie=(a==="picture-card"||a==="picture-circle")&&V!=="uploading"&&i.createElement("span",{className:`${n}-list-item-actions`},J,V==="done"&&U,H),{getPrefixCls:ce}=i.useContext(Fe),fe=ce(),te=i.createElement("div",{className:I},_,Q,X,ie,se&&i.createElement(Ct,{motionName:`${fe}-fade`,visible:V==="uploading",motionDeadline:2e3},R=>{let{className:O}=R;const ne="percent"in r?i.createElement(Kn,Object.assign({},u,{type:"line",percent:r.percent,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]})):null;return i.createElement("div",{className:A(`${n}-list-item-progress`,O)},ne)})),de=r.response&&typeof r.response=="string"?r.response:((z=r.error)===null||z===void 0?void 0:z.statusText)||((B=r.error)===null||B===void 0?void 0:B.message)||l.uploadError,he=V==="error"?i.createElement(ht,{title:de,getPopupContainer:R=>R.parentNode},te):te;return i.createElement("div",{className:A(`${n}-list-item-container`,s),style:o,ref:t},f?f(he,r,d,{download:L.bind(null,r),preview:T.bind(null,r),remove:M.bind(null,r)}):he)}),jr=(e,t)=>{const{listType:n="text",previewFile:s=Cr,onPreview:o,onDownload:l,onRemove:a,locale:r,iconRender:d,isImageUrl:u=wr,prefixCls:m,items:g=[],showPreviewIcon:f=!0,showRemoveIcon:v=!0,showDownloadIcon:C=!1,removeIcon:E,previewIcon:b,downloadIcon:$,extra:S,progress:W={size:[-1,2],showInfo:!1},appendAction:D,appendActionVisible:T=!0,itemRender:L,disabled:M}=e,z=Yt(),[B,x]=i.useState(!1),V=["picture-card","picture-circle"].includes(n);i.useEffect(()=>{n.startsWith("picture")&&(g||[]).forEach(p=>{!(p.originFileObj instanceof File||p.originFileObj instanceof Blob)||p.thumbUrl!==void 0||(p.thumbUrl="",s==null||s(p.originFileObj).then(F=>{p.thumbUrl=F||"",z()}))})},[n,g,s]),i.useEffect(()=>{x(!0)},[]);const re=(p,F)=>{if(o)return F==null||F.preventDefault(),o(p)},se=p=>{typeof l=="function"?l(p):p.url&&window.open(p.url)},Z=p=>{a==null||a(p)},K=p=>{if(d)return d(p,n);const F=p.status==="uploading";if(n.startsWith("picture")){const Q=n==="picture"?i.createElement(st,null):r.uploading,J=u!=null&&u(p)?i.createElement(dr,null):i.createElement(sr,null);return F?Q:J}return F?i.createElement(st,null):i.createElement(ar,null)},_=(p,F,Q,J,ie)=>{const ce={type:"text",size:"small",title:J,onClick:fe=>{var te,de;F(),i.isValidElement(p)&&((de=(te=p.props).onClick)===null||de===void 0||de.call(te,fe))},className:`${Q}-list-item-action`,disabled:ie?M:!1};return i.isValidElement(p)?i.createElement(rt,Object.assign({},ce,{icon:nt(p,Object.assign(Object.assign({},p.props),{onClick:()=>{}}))})):i.createElement(rt,Object.assign({},ce),i.createElement("span",null,p))};i.useImperativeHandle(t,()=>({handlePreview:re,handleDownload:se}));const{getPrefixCls:I}=i.useContext(Fe),ee=I("upload",m),H=I(),U=A(`${ee}-list`,`${ee}-list-${n}`),X=i.useMemo(()=>yt(Qt(H),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[H]),Y=Object.assign(Object.assign({},V?{}:X),{motionDeadline:2e3,motionName:`${ee}-${V?"animate-inline":"animate"}`,keys:Ie(g.map(p=>({key:p.uid,file:p}))),motionAppear:B});return i.createElement("div",{className:U},i.createElement(Zt,Object.assign({},Y,{component:!1}),p=>{let{key:F,file:Q,className:J,style:ie}=p;return i.createElement(Sr,{key:F,locale:r,prefixCls:ee,className:J,style:ie,file:Q,items:g,progress:W,listType:n,isImgUrl:u,showPreviewIcon:f,showRemoveIcon:v,showDownloadIcon:C,removeIcon:E,previewIcon:b,downloadIcon:$,extra:S,iconRender:K,actionIconRender:_,itemRender:L,onPreview:re,onDownload:se,onClose:Z})}),D&&i.createElement(Ct,Object.assign({},Y,{visible:T,forceRender:!0}),p=>{let{className:F,style:Q}=p;return nt(D,J=>({className:A(J.className,F),style:Object.assign(Object.assign(Object.assign({},Q),{pointerEvents:F?"none":void 0}),J.style)}))}))},Er=i.forwardRef(jr);var Ir=function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function r(m){try{u(s.next(m))}catch(g){a(g)}}function d(m){try{u(s.throw(m))}catch(g){a(g)}}function u(m){m.done?l(m.value):o(m.value).then(r,d)}u((s=s.apply(e,[])).next())})};const be=`__LIST_IGNORE_${Date.now()}__`,Or=(e,t)=>{const{fileList:n,defaultFileList:s,onRemove:o,showUploadList:l=!0,listType:a="text",onPreview:r,onDownload:d,onChange:u,onDrop:m,previewFile:g,disabled:f,locale:v,iconRender:C,isImageUrl:E,progress:b,prefixCls:$,className:S,type:W="select",children:D,style:T,itemRender:L,maxCount:M,data:z={},multiple:B=!1,hasControlInside:x=!0,action:V="",accept:re="",supportServerRender:se=!0,rootClassName:Z}=e,K=i.useContext(en),_=f??K,[I,ee]=tn(s||[],{value:n,postState:h=>h??[]}),[H,U]=i.useState("drop"),X=i.useRef(null),Y=i.useRef(null);i.useMemo(()=>{const h=Date.now();(n||[]).forEach((w,P)=>{!w.uid&&!Object.isFrozen(w)&&(w.uid=`__AUTO__${h}_${P}__`)})},[n]);const p=(h,w,P)=>{let y=Ie(w),j=!1;M===1?y=y.slice(-1):M&&(j=y.length>M,y=y.slice(0,M)),ot.flushSync(()=>{ee(y)});const q={file:h,fileList:y};P&&(q.event=P),(!j||h.status==="removed"||y.some(ue=>ue.uid===h.uid))&&ot.flushSync(()=>{u==null||u(q)})},F=(h,w)=>Ir(void 0,void 0,void 0,function*(){const{beforeUpload:P,transformFile:y}=e;let j=h;if(P){const q=yield P(h,w);if(q===!1)return!1;if(delete h[be],q===be)return Object.defineProperty(h,be,{value:!0,configurable:!0}),!1;typeof q=="object"&&q&&(j=q)}return y&&(j=yield y(j)),j}),Q=h=>{const w=h.filter(j=>!j.file[be]);if(!w.length)return;const P=w.map(j=>Se(j.file));let y=Ie(I);P.forEach(j=>{y=je(j,y)}),P.forEach((j,q)=>{let ue=j;if(w[q].parsedFile)j.status="uploading";else{const{originFileObj:ge}=j;let me;try{me=new File([ge],ge.name,{type:ge.type})}catch{me=new Blob([ge],{type:ge.type}),me.name=ge.name,me.lastModifiedDate=new Date,me.lastModified=new Date().getTime()}me.uid=j.uid,ue=me}p(ue,y)})},J=(h,w,P)=>{try{typeof h=="string"&&(h=JSON.parse(h))}catch{}if(!Me(w,I))return;const y=Se(w);y.status="done",y.percent=100,y.response=h,y.xhr=P;const j=je(y,I);p(y,j)},ie=(h,w)=>{if(!Me(w,I))return;const P=Se(w);P.status="uploading",P.percent=h.percent;const y=je(P,I);p(P,y,h)},ce=(h,w,P)=>{if(!Me(P,I))return;const y=Se(P);y.error=h,y.response=w,y.status="error";const j=je(y,I);p(y,j)},fe=h=>{let w;Promise.resolve(typeof o=="function"?o(h):o).then(P=>{var y;if(P===!1)return;const j=yr(h,I);j&&(w=Object.assign(Object.assign({},h),{status:"removed"}),I==null||I.forEach(q=>{const ue=w.uid!==void 0?"uid":"name";q[ue]===w[ue]&&!Object.isFrozen(q)&&(q.status="removed")}),(y=X.current)===null||y===void 0||y.abort(w),p(w,j))})},te=h=>{U(h.type),h.type==="drop"&&(m==null||m(h))};i.useImperativeHandle(t,()=>({onBatchStart:Q,onSuccess:J,onProgress:ie,onError:ce,fileList:I,upload:X.current,nativeElement:Y.current}));const{getPrefixCls:de,direction:he,upload:R}=i.useContext(Fe),O=de("upload",$),ne=Object.assign(Object.assign({onBatchStart:Q,onError:ce,onProgress:ie,onSuccess:J},e),{data:z,multiple:B,action:V,accept:re,supportServerRender:se,prefixCls:O,disabled:_,beforeUpload:F,onChange:void 0,hasControlInside:x});delete ne.className,delete ne.style,(!D||_)&&delete ne.id;const Ye=`${O}-wrapper`,[ke,Qe,Dt]=$r(O,Ye),[Ft]=nn("Upload",rn.Upload),{showRemoveIcon:Ze,showPreviewIcon:Tt,showDownloadIcon:Lt,removeIcon:Nt,previewIcon:kt,downloadIcon:Ut,extra:At}=typeof l=="boolean"?{}:l,Mt=typeof Ze>"u"?!_:Ze,Ue=(h,w)=>l?i.createElement(Er,{prefixCls:O,listType:a,items:I,previewFile:g,onPreview:r,onDownload:d,onRemove:fe,showRemoveIcon:Mt,showPreviewIcon:Tt,showDownloadIcon:Lt,removeIcon:Nt,previewIcon:kt,downloadIcon:Ut,iconRender:C,extra:At,locale:Object.assign(Object.assign({},Ft),v),isImageUrl:E,progress:b,appendAction:h,appendActionVisible:w,itemRender:L,disabled:_}):h,Ae=A(Ye,S,Z,Qe,Dt,R==null?void 0:R.className,{[`${O}-rtl`]:he==="rtl",[`${O}-picture-card-wrapper`]:a==="picture-card",[`${O}-picture-circle-wrapper`]:a==="picture-circle"}),zt=Object.assign(Object.assign({},R==null?void 0:R.style),T);if(W==="drag"){const h=A(Qe,O,`${O}-drag`,{[`${O}-drag-uploading`]:I.some(w=>w.status==="uploading"),[`${O}-drag-hover`]:H==="dragover",[`${O}-disabled`]:_,[`${O}-rtl`]:he==="rtl"});return ke(i.createElement("span",{className:Ae,ref:Y},i.createElement("div",{className:h,style:zt,onDrop:te,onDragOver:te,onDragLeave:te},i.createElement(it,Object.assign({},ne,{ref:X,className:`${O}-btn`}),i.createElement("div",{className:`${O}-drag-container`},D))),Ue()))}const Bt=A(O,`${O}-select`,{[`${O}-disabled`]:_,[`${O}-hidden`]:!D}),et=i.createElement("div",{className:Bt},i.createElement(it,Object.assign({},ne,{ref:X})));return ke(a==="picture-card"||a==="picture-circle"?i.createElement("span",{className:Ae,ref:Y},Ue(et,!!D)):i.createElement("span",{className:Ae,ref:Y},et,Ue()))},Rt=i.forwardRef(Or);var Rr=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const Pr=i.forwardRef((e,t)=>{var{style:n,height:s,hasControlInside:o=!1}=e,l=Rr(e,["style","height","hasControlInside"]);return i.createElement(Rt,Object.assign({ref:t,hasControlInside:o},l,{type:"drag",style:Object.assign(Object.assign({},n),{height:s})}))}),Ke=Rt;Ke.Dragger=Pr;Ke.LIST_IGNORE=be;var ze,dt;function Dr(){if(dt)return ze;dt=1;function e(t,n){for(var s=-1,o=t==null?0:t.length;++s<o;)if(!n(t[s],s,t))return!1;return!0}return ze=e,ze}var Be,ut;function Fr(){if(ut)return Be;ut=1;var e=sn();function t(n,s){var o=!0;return e(n,function(l,a,r){return o=!!s(l,a,r),o}),o}return Be=t,Be}var _e,mt;function Tr(){if(mt)return _e;mt=1;var e=Dr(),t=Fr(),n=on(),s=an(),o=ln();function l(a,r,d){var u=s(a)?e:t;return d&&o(a,r,d)&&(r=void 0),u(a,n(r,3))}return _e=l,_e}var Lr=Tr();const Nr=cn(Lr);function kr(e){const t=Ee.useFormInstance(),{names:n=[],rules:s=[],...o}=e,[l,...a]=n,r=i.useCallback(u=>{const m=pe(n,(g,f)=>({name:g,value:u==null?void 0:u[f]}));return t.setFields(m),u==null?void 0:u[0]},[t,n]),d=i.useCallback(()=>{const u=pe(n,m=>t.getFieldValue(m));if(!Nr(u,dn))return{value:u}},[t,n]);return c.jsxs(c.Fragment,{children:[c.jsx(Ee.Item,{getValueFromEvent:r,getValueProps:d,name:l,rules:pe(s,u=>un(u)&&u?{...u,transform:()=>pe(n,m=>t.getFieldValue(m))}:u),...o}),pe(a,u=>c.jsx(Ee.Item,{name:u,noStyle:!0},u==null?void 0:u.toString()))]})}function Ur({id:e,onChange:t,value:n}){const[s,o]=i.useState(Ce()),[l,a]=i.useState(Ce());i.useEffect(()=>{n&&(o(Ce(n[0])),a(Ce(n[1])))},[n]);const r=i.useCallback(d=>{const u=d==null?void 0:d[0],m=d==null?void 0:d[1];if(!u&&m)return t==null?void 0:t([new at(s).moveByDifferenceDays(m).toDate(),m.toDate()]);if(!m&&u)return t==null?void 0:t([u.toDate(),new at(l).moveByDifferenceDays(u).toDate()]);u&&m&&(t==null||t([u.toDate(),m.add(u.diff(s)).toDate()]))},[t,s,l]);return c.jsx(mn.RangePicker,{format:["ddd DD.MM.YY HH:mm","DDMMYY HH:mm"],id:e,minuteStep:30,onCalendarChange:r,showTime:!0,value:[s,l]})}function Ar(){return c.jsx(kr,{label:c.jsx("b",{style:{whiteSpace:"nowrap"},children:"Datum und Uhrzeit:"}),names:["startDate","endDate"],required:!0,children:c.jsx(Ur,{})})}function Mr({verForPreview:e}){const[t,n]=i.useState(24),s=i.useCallback(o=>n(o.target.value),[n]);return c.jsxs("div",{style:{height:"70vh",overflow:"scroll"},children:[c.jsxs("ul",{children:[c.jsx("li",{children:"Passen die Umbrüche?"}),c.jsx("li",{children:"Hast Du manuelle Trennzeichen?"}),c.jsx("li",{children:"Werden die Bilder alle angezeigt?"}),c.jsx("li",{children:"Stimmen die Links?"})]}),c.jsx("hr",{}),c.jsx(pn.Group,{buttonStyle:"solid",defaultValue:24,onChange:s,optionType:"button",options:[{label:"schmal",value:6},{label:"mittel",value:12},{label:"breit",value:24}]}),c.jsx(Ge,{children:c.jsx(N,{span:t,children:c.jsx(St,{smallImages:!0,veranstaltung:e})})})]})}function zr(e){const{modal:t}=gn.useApp(),n=xe();return{presseChecked:i.useCallback(o=>{if(o.target.checked){const a=e?new Oe(n.getFieldsValue(!0)):new Re(n.getFieldsValue(!0));t.info({title:"Bitte kurz nochmal den Text und das Layout prüfen.",content:c.jsx(Mr,{verForPreview:a}),width:"80vw"})}},[n,e,t])}}function pt(e){return parseFloat(e||"")||0}function Br(e){return hn(e)?e:e!==0&&!e?"":new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1}).format(e||0)}const Je=class Je{constructor(t){this.backlineEUR=0,this.saalmiete=0,this.technikAngebot1EUR=0,this.fluegelstimmerEUR=0,this.gagenEUR=0,this.provisionAgentur=0,this.werbung1=0,this.werbung2=0,this.werbung3=0,this.werbung4=0,this.werbung5=0,this.werbung6=0,this.werbung1Label="Werbung 1",this.werbung2Label="Werbung 2",this.werbung3Label="Werbung 3",this.werbung4Label="Werbung 4",this.werbung5Label="Werbung 5",this.werbung6Label="Werbung 6",this.personal=0,this.gagenSteuer=null,this.deal=null,this.gageBAR=!1,this.cateringMusiker=0,this.cateringPersonal=0,this.tontechniker=0,this.lichttechniker=0,t&&fn(t).length&&(Object.assign(this,t),this.gagenSteuer||(this.gagenSteuer="ohne"))}get gagenTotalEUR(){const t=this.gagenEUR,n=t*pt(this.gagenSteuer)/100;return t+n}get gagenTotalEURformatted(){return Br(this.gagenTotalEUR)}get dealAlsFaktor(){return pt(this.deal)/100}get backlineUndTechnikEUR(){return this.backlineEUR+this.technikAngebot1EUR+this.fluegelstimmerEUR}get ksk(){return(this.gagenEUR??0)*.05}get totalEUR(){return this.gagenTotalEUR+this.provisionAgentur+this.backlineUndTechnikEUR+this.saalmiete+this.werbung1+this.werbung2+this.werbung3+this.personal+this.cateringPersonal+this.cateringMusiker+this.tontechniker+this.lichttechniker+this.ksk}};Je.deals=["ohne","100%","90%","80%","70%","60%"];let gt=Je;function Xr(){return c.jsx(Te,{label:"Kommentar",suffix:"allgemeines",children:c.jsx(ae,{children:c.jsx(N,{span:24,children:c.jsx(He,{label:c.jsx("b",{children:"Zusätzliche Infos:"}),name:["kopf","beschreibung"]})})})})}const _r=20971520;function Pt({name:e,typ:t,onlyImages:n=!1}){const s=xe(),{showError:o}=we(),[l,a]=i.useState([]),[r,d]=i.useState([]),[u,m]=i.useState(!1),g=k("id",{form:s,preserve:!0}),f=k("name",{form:s,preserve:!0});i.useEffect(()=>a(f??[]),[f,s]);const v=i.useCallback(async()=>{m(!0);const b=new FormData;b.append("id",s.getFieldValue("id")),b.append("typ",t),jt(r,$=>{b.append("datei",$,$.name)});try{const $=await bn(b);d([]);const S=e.reduce((W,D)=>W[D],$);s.setFieldValue(e,S)}catch{console.error("Oops")}finally{m(!1)}},[r,s,e,t]),C={onRemove:b=>{const $=r.indexOf(b),S=r.slice();S.splice($,1),d(S)},beforeUpload:b=>b.size>_r?(o({title:"Datei zu groß",text:"Die Datei darf maximal 20 Megabyte groß sein"}),!1):(d([...r,b]),!0),fileList:r},E=i.useCallback(b=>{const $=t==="pressefoto"?c.jsx("img",{alt:b.label,src:`/imagepreview/${b.label}`,width:"100%"}):c.jsxs("a",{href:`/files/${b.label}`,children:[b.label," "]});return c.jsx(vn,{content:$,title:t==="pressefoto"?"Vorschau":"Klick zur Ansicht / Download",children:c.jsx(Et,{closable:b.closable,onClose:b.onClose,children:b.label})})},[t]);return g&&c.jsx(Ge,{children:c.jsx(N,{children:c.jsxs($n,{align:"end",children:[c.jsx(Xe,{label:"Dateien",name:e,options:l,specialTagRender:E,style:{marginBottom:0}}),c.jsx(Ke,{...C,accept:n?"image/*":void 0,children:c.jsx(lt,{icon:"FileEarmarkPlus",text:"Auswählen",type:"default"})}),c.jsx(lt,{disabled:r.length===0,icon:"Upload",loading:u,onClick:v,text:u?"Lädt...":"Hochladen"})]})})})}function qr({forVermietung:e=!1}){const{lg:t}=yn(),n=xe(),{allUsers:s,optionen:o}=we(),l=k(["kopf","eventTyp"],{form:n,preserve:!0}),a=k("id",{form:n,preserve:!0}),r=k("brauchtTechnik",{form:n,preserve:!0}),d=k(["kopf","abgesagt"],{form:n,preserve:!0}),u=i.useMemo(()=>{var v;return(v=xn((o==null?void 0:o.typenPlus)||[],"name")[l])==null?void 0:v[0]},[o,l]),m=i.useCallback(f=>{jt(["kasse","kasseV","techniker","technikerV","merchandise","mod"],v=>{const C=["staff",`${v}NotNeeded`],E=f?!f[v]:!0;n.setFieldValue(C,E)})},[n]);i.useEffect(()=>{u&&!a&&m(u)},[n,a,u,m]),i.useEffect(()=>{d&&m()},[d,n,m]);const g=i.useMemo(()=>pe(s,"asUserAsOption"),[s]);return c.jsx(Te,{label:"Mitarbeiter",noTopBorder:t,suffix:"allgemeines",children:c.jsx(wn,{brauchtTechnik:r,forVermietung:e,usersAsOptions:g})})}function Gr({fuerVermietung:e}){const{optionen:t}=we(),n=xe(),{backlineJazzclub:s,backlineRockshop:o}=t,[l,a]=i.useState(0),r=i.useCallback(()=>{const g=e?new Oe(n.getFieldsValue(!0)):new Re(n.getFieldsValue(!0));a(g.kosten.backlineUndTechnikEUR)},[n,e]);i.useEffect(r,[r]);const d=k(["technik","fluegel"],{preserve:!0}),u=k(["kosten","fluegelstimmerEUR"],{preserve:!0});i.useEffect(()=>{d===!1?n.setFieldValue(["kosten","fluegelstimmerEUR"],0):d===!0&&!u&&n.setFieldValue(["kosten","fluegelstimmerEUR"],t.preisKlavierstimmer),r()},[d,u,n,t.preisKlavierstimmer,r]);const m=k(["technik","fluegel"],{preserve:!0});return c.jsxs(Te,{amount:l,label:"Backline",noTopBorder:!0,suffix:"technik",children:[c.jsxs(ae,{children:[c.jsx(N,{span:8,children:c.jsx(qe,{label:"Technik ist geklärt",name:["technik","checked"]})}),c.jsx(N,{span:8,children:c.jsx(qe,{label:"Flügel stimmen",name:["technik","fluegel"]})}),c.jsx(N,{span:8,children:c.jsx(ve,{decimals:2,disabled:!m,label:"Flügelstimmer",name:["kosten","fluegelstimmerEUR"],suffix:"€"})})]}),c.jsx(Ge,{align:"bottom",gutter:12,style:{marginBottom:12},children:c.jsx(N,{span:24,children:c.jsx(Pt,{name:["technik","dateirider"],typ:"rider"})})}),c.jsx(ae,{children:c.jsx(N,{span:16,children:c.jsx(Xe,{label:"Backline Jazzclub",name:["technik","backlineJazzclub"],options:s})})}),c.jsxs(ae,{children:[c.jsx(N,{span:16,children:c.jsx(Xe,{label:"Backline Rockshop",name:["technik","backlineRockshop"],options:o})}),c.jsx(N,{span:8,children:c.jsx(ve,{decimals:2,disabled:!0,label:"Betrag (alt, jetzt in Werbung eintragen)",name:["kosten","backlineEUR"],suffix:"€"})})]}),c.jsxs(ae,{children:[c.jsx(N,{span:16,children:c.jsx(Le,{label:"Technik Zumietung",name:["technik","technikAngebot1"]})}),c.jsx(N,{span:8,children:c.jsx(ve,{decimals:2,disabled:!0,label:"Betrag (alt, jetzt in Werbung eintragen)",name:["kosten","technikAngebot1EUR"],suffix:"€"})})]})]})}function Kr({label:e,path:t,disabled:n}){return c.jsxs(ae,{children:[c.jsx(N,{span:18,children:c.jsx(Ee.Item,{children:c.jsx("b",{children:e+":"})})}),c.jsx(N,{span:6,children:c.jsx(ve,{decimals:2,disabled:n,name:t,suffix:"€"})})]})}function Jr({label:e,path:t}){return c.jsxs(ae,{children:[c.jsx(N,{span:18,children:c.jsx(Le,{initialValue:e,label:e,name:[t[0],t[1]+"Label"]})}),c.jsx(N,{span:6,children:c.jsx(ve,{decimals:2,label:"Betrag",name:t,suffix:"€"})})]})}function ft({activePage:e,kind:t,title:n}){const{color:s,icon:o}=En,{brightText:l}=we(),a=s("presse"),r=e===t;return c.jsxs("b",{style:{margin:-16,padding:16,backgroundColor:r?a:"inherit",color:r?l:a},children:[c.jsx(In,{iconName:o("presse"),style:{marginBottom:-3}}),"  ",n]})}function Yr({isVermietung:e}){const t=xe(),{presseChecked:n}=zr(e),s=Cn({queryKey:["imagenames"],queryFn:()=>On()}),[o,l]=i.useState(e?new Oe:new Re),a=k(["presse","text"]),r=k(["presse","originalText"]),d=k(["presse","jazzclubURL"]),u=k(["presse","image"]),m=k(["presse","checked"]);i.useEffect(()=>{l(e?new Oe(t.getFieldsValue(!0)):new Re(t.getFieldsValue(!0)))},[a,d,u,m,r,e,t]);const g=i.useCallback(C=>{const E=["presse","image"],b=t.getFieldValue(E);t.setFieldValue(E,[...b,C]),t.setFieldValue(["tempimage"],null)},[t]),[f,v]=i.useState("final");return c.jsx(Te,{label:"Pressematerial",noTopBorder:!0,suffix:"presse",children:c.jsxs(ae,{children:[c.jsxs(N,{lg:12,xs:24,children:[c.jsx(qe,{label:"Ist so OK",name:["presse","checked"],onChange:n}),c.jsx(Le,{label:"URL-Suffix bei jazzclub.de",name:["presse","jazzclubURL"]}),c.jsx(Sn,{activeKey:f,items:[{key:"final",label:c.jsx(ft,{activePage:f,kind:"final",title:"Finaler Text"}),children:c.jsx(He,{label:c.jsx("b",{children:"Formatierter Text für die Pressemitteilung:"}),name:["presse","text"]})},{key:"original",label:c.jsx(ft,{activePage:f,kind:"original",title:"Originaler Text"}),children:c.jsx(He,{label:c.jsx("b",{children:"Formatierter Text für die Pressemitteilung:"}),name:["presse","originalText"]})}],onChange:v,type:"card"}),c.jsx(Pt,{name:["presse","image"],onlyImages:!0,typ:"pressefoto"}),c.jsx(jn,{label:"Vorhandene Bilder übernehmen",name:["tempimage"],onChange:g,options:s.data||[]})]}),c.jsx(N,{lg:12,xs:24,children:c.jsx(St,{veranstaltung:o})})]})})}function Wr(e,{OkBtn:t}){return c.jsx(t,{})}function Qr({title:e}){const{url:t}=Rn(),[n,s]=i.useState(!1),[o,l]=i.useState(!1),a=k("id",{preserve:!0}),r=k("startDate",{preserve:!0});i.useEffect(()=>{s(!o&&!a&&!!r&&!!(t!=null&&t.includes("copy-of")))},[a,t,r,o]);const d=i.useCallback(()=>{s(!1),l(!0)},[]);return c.jsxs(Pn,{closable:!1,footer:Wr,okText:"Weiter",onOk:d,open:n,title:e,children:[c.jsx("p",{children:"Du möchtest sicher Titel und Datum anpassen."}),c.jsx(Le,{label:"Titel",name:["kopf","titel"],required:!0}),c.jsx(Ar,{})]})}function Zr(e){function t({tag:{label:n,labelNotOk:s,dependsOn:o,path:l,invertColor:a}}){const{isDarkMode:r}=we(),d=i.useMemo(()=>r?"rgb(255,255,255,0.45)":"rgb(0,0,0,0.45)",[r]),u=k(l,{preserve:!0}),m=k(o,{preserve:!0}),f=!(o&&m||!o);let v;f?v=void 0:(a?!u:u)?v="success":v="error";const C=u?n:s??n;return c.jsx(Et,{color:v,style:f?{color:d}:{},children:C})}return pe(e,n=>c.jsx(t,{tag:n},n.label??n.label))}export{kr as A,gt as K,Kr as L,qr as M,Yr as P,Ar as S,Gr as T,Pt as U,Xr as a,Jr as b,Qr as c,Zr as d,zr as u};
